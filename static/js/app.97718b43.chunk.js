(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{273:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y}));var a=n(20),r=n.n(a),o=n(18),u=n.n(o),l=n(0),c=n.n(l),i=n(3),s=n(26),d=n(5),m=n(8),p=n(31),b=n(212),h=n(395),f=n(394),g=n(274),w=n(210),x=n(27);function E(e){var t=Object(x.useNavigation)();return c.a.createElement(w.a.Header,{style:{backgroundColor:e.color?e.color:"#6d4c41"}},e.drawerAvailable?c.a.createElement(w.a.Action,{icon:"menu",size:30,onPress:function(){return t.dispatch(x.DrawerActions.toggleDrawer)}}):null,c.a.createElement(w.a.Content,{title:e.title,style:{alignItems:"center"}}))}i.a.create({centerComponent:{fontSize:20}});var v=n(63);function y(e){return c.a.createElement(v.a,{placeholder:e.placeholder,style:C(e).textInput,onChangeText:e.onChangeText,value:e.value,secureTextEntry:e.obscureText,multiline:e.multiline||!1,maxLength:e.maxLength||void 0})}var C=function(e){return i.a.create({textInput:{width:e.width,height:e.height||void 0,fontSize:23,padding:3,borderBottomWidth:e.outlinedBorder?void 0:2,borderColor:"black",borderWidth:e.outlinedBorder?5:void 0,borderRadius:e.outlinedBorder?25:0}})},k=n(154),S=n(33);function T(e){return c.a.createElement(S.a,{style:O(e).button,onPress:e.onPress},c.a.createElement(s.a,{style:O(e).buttonText},e.buttonText))}var O=function(e){return i.a.create({button:{backgroundColor:e.buttonColor,justifyContent:"center",alignItems:"center",borderRadius:23,paddingHorizontal:7,paddingVertical:5,shadowOpacity:.5,shadowRadius:2,shadowOffset:{width:0,height:4},elevation:20},buttonText:{fontSize:23,color:e.buttonTextColor,fontWeight:"bold",fontFamily:"cursive"}})},B=n(271),I=n.n(B),P=n(214),F=n(204),j=n(76);j.a.initializeApp({apiKey:"AIzaSyCtJWEiHkscsBR9mhAV8PzPn7Ijy46bOdI",authDomain:"barter-app-1d780.firebaseapp.com",projectId:"barter-app-1d780",storageBucket:"barter-app-1d780.appspot.com",messagingSenderId:"544892223600",appId:"1:544892223600:web:7f83694a6daecd2992f4b5"});var A,D=j.a.firestore(),N={firestore:{collections:{names:{users:"users",itemsToExchange:"itemsToExchange"}}}};!function(e){e[e.successful=0]="successful",e[e.unknownError=1]="unknownError",e[e.badCredentials=2]="badCredentials",e[e.emptyField1=3]="emptyField1",e[e.emptyField2=4]="emptyField2",e[e.emailBadlyFormatted=5]="emailBadlyFormatted",e[e.userNotFound=6]="userNotFound",e[e.userDisabled=7]="userDisabled",e[e.operationNotAllowed=8]="operationNotAllowed",e[e.weakPassword=9]="weakPassword",e[e.emailAlreadyInUse=10]="emailAlreadyInUse",e[e.shortDetails=11]="shortDetails"}(A||(A={}));var R=A;function L(e){Object(l.useEffect)((function(){p.a.addEventListener("change",(function(e){var t=e.window;e.screen;o(t)}))}));var t=Object(l.useState)(p.a.get("window")),n=u()(t,2),a=n[0],o=n[1],m=Object(l.useState)(""),b=u()(m,2),h=b[0],f=b[1],g=Object(l.useState)(""),w=u()(g,2),x=w[0],v=w[1],C=Object(l.useState)(!1),S=u()(C,2),O=S[0],B=S[1],A=Object(l.useState)(""),L=u()(A,2),z=L[0],W=L[1],H=Object(l.useState)(""),U=u()(H,2),q=U[0],V=U[1],J=Object(l.useState)(""),G=u()(J,2),K=G[0],M=G[1],Q=Object(l.useState)(""),X=u()(Q,2),Y=X[0],Z=X[1],$=[{placeholder:"Email",onChangeText:function(e){return f(e)},value:h},{placeholder:"Password",onChangeText:function(e){return v(e)},value:x,obscureText:!0}],_=[{buttonColor:"#4CAF50",buttonText:"Sign In",onPress:function(){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(re(h,x));case 2:t=n.sent,n.t0=t,n.next=n.t0===R.emptyField1?6:n.t0===R.emptyField2?8:n.t0===R.emailBadlyFormatted?10:n.t0===R.badCredentials?12:n.t0===R.successful?14:n.t0===R.userNotFound?16:n.t0===R.userDisabled?18:20;break;case 6:return alert("Empty email"),n.abrupt("break",21);case 8:return alert("Empty password"),n.abrupt("break",21);case 10:return alert("Email badly formatted"),n.abrupt("break",21);case 12:return alert("Wrong credentials"),n.abrupt("break",21);case 14:return e.navigation.replace("homeScreen"),n.abrupt("break",21);case 16:return alert("User not found"),n.abrupt("break",21);case 18:return alert("User disabled"),n.abrupt("break",21);case 20:alert("Some unknown error occurred");case 21:case"end":return n.stop()}}),null,null,null,Promise)}},{buttonColor:"#3F51B5",buttonText:"Sign Up",onPress:function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(oe(h,x));case 2:e=t.sent,t.t0=e,t.next=t.t0===R.emptyField1?6:t.t0===R.emptyField2?8:t.t0===R.emailBadlyFormatted?10:t.t0===R.successful?12:t.t0===R.emailAlreadyInUse?14:t.t0===R.weakPassword?16:t.t0===R.operationNotAllowed?18:20;break;case 6:return alert("Empty email"),t.abrupt("break",21);case 8:return alert("Empty password"),t.abrupt("break",21);case 10:return alert("Email badly formatted"),t.abrupt("break",21);case 12:return B(!0),t.abrupt("break",21);case 14:return alert("Email already in use"),t.abrupt("break",21);case 16:return alert("Weak password"),t.abrupt("break",21);case 18:return alert("Operation not allowed"),t.abrupt("break",21);case 20:alert("Some unknown error occurred");case 21:case"end":return t.stop()}}),null,null,null,Promise)}}],ee=[{placeholder:"Name",onChangeText:function(e){return Z(e)},value:Y},{placeholder:"Email ID",onChangeText:function(e){return W(e)},value:z},{placeholder:"Address",onChangeText:function(e){return V(e)},value:q},{placeholder:"Contact No.",onChangeText:function(e){return M(e)},value:K}],te=[{buttonText:"Submit",buttonColor:"purple",onPress:function(){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return B(!1),n.next=3,r.a.awrap(ue(Y,z,q,K));case 3:t=n.sent,n.t0=t,n.next=n.t0===R.successful?7:9;break;case 7:return e.navigation.navigate("homeScreen"),n.abrupt("break",10);case 9:alert("Some Error Occurred");case 10:case"end":return n.stop()}}),null,null,null,Promise)}},{buttonText:"Cancel",buttonColor:"red",onPress:function(){return B(!1)}}],ne=function(e){return i.a.create({background:{backgroundColor:"#F8BE85",height:"100vh"},modal:{marginLeft:e.width/2-e.width/2/2,marginTop:e.height/2-e.height/2/2,width:e.width/2,height:e.height/1.9,shadowOpacity:.5,shadowRadius:2,shadowOffset:{width:0,height:6},elevation:20,backgroundColor:"#FFC107",borderRadius:20},modalContent:{justifyContent:"flex-start",alignItems:"center",height:"100%",width:"100%",borderRadius:20},modalHeadingContainer:{paddingVertical:1,alignItems:"center",width:"100%"},modalHeading:{fontFamily:"cursive",fontSize:30,fontWeight:"bold"},modalButtonGroupContainer:{paddingTop:5},modalButtonContainer:{paddingBottom:e.height/60},imageContainer:{paddingVertical:20,justifyContent:"center",alignItems:"center"},avatar:{backgroundColor:"white",borderWidth:5},detailsContainer:{width:"100%",alignItems:"center"},textInputContainer:{paddingTop:20},buttonContainer:{paddingTop:15}})},ae=function(e,t){return null==e||0==e.trim().length?R.emptyField1:null==t||0==t.trim().length?R.emptyField2:I.a.validate(e)?R.successful:R.emailBadlyFormatted},re=function(e,t){var n,a;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if((n=ae(e,t))==R.successful){o.next=3;break}return o.abrupt("return",n);case 3:return o.prev=3,o.next=6,r.a.awrap(j.a.auth().signInWithEmailAndPassword(e,t));case 6:return o.abrupt("return",R.successful);case 9:o.prev=9,o.t0=o.catch(3),console.error(o.t0),a=o.t0.code,o.t1=a,o.next="auth/wrong-password"===o.t1?16:"auth/user-not-found"===o.t1?18:"auth/user-disabled"===o.t1?20:"auth/invalid-email"===o.t1?22:24;break;case 16:return o.abrupt("return",R.badCredentials);case 18:return o.abrupt("return",R.userNotFound);case 20:return o.abrupt("return",R.userDisabled);case 22:return o.abrupt("return",R.emailBadlyFormatted);case 24:return o.abrupt("return",R.unknownError);case 25:case 26:case"end":return o.stop()}}),null,null,[[3,9]],Promise)},oe=function(e,t){var n,a;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if((n=ae(e,t))==R.successful){o.next=3;break}return o.abrupt("return",n);case 3:return o.prev=3,o.next=6,r.a.awrap(j.a.auth().createUserWithEmailAndPassword(e,t));case 6:return o.abrupt("return",R.successful);case 9:o.prev=9,o.t0=o.catch(3),console.error(o.t0),a=o.t0.code,o.t1=a,o.next="auth/email-already-in-use"===o.t1?16:"auth/invalid-email"===o.t1?18:"auth/operation-not-allowed"===o.t1?20:"auth/weak-password"===o.t1?22:24;break;case 16:return o.abrupt("return",R.emailAlreadyInUse);case 18:return o.abrupt("return",R.emailBadlyFormatted);case 20:return o.abrupt("return",R.operationNotAllowed);case 22:return o.abrupt("return",R.weakPassword);case 24:return o.abrupt("return",R.unknownError);case 25:case 26:case"end":return o.stop()}}),null,null,[[3,9]],Promise)},ue=function(e,t,n,a){return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,r.a.awrap(D.collection(N.firestore.collections.names.users).add({name:e,emailID:t,address:n,contactNo:a}));case 3:return o.sent,o.abrupt("return",R.successful);case 7:return o.prev=7,o.t0=o.catch(0),console.error(o.t0),o.abrupt("return",R.unknownError);case 11:case"end":return o.stop()}}),null,null,[[0,7]],Promise)};return c.a.createElement(d.a,{style:ne(a).background},c.a.createElement(d.a,null,c.a.createElement(E,{title:"Login"}),c.a.createElement(P.a,null,c.a.createElement(F.a,{dismissable:!1,visible:O,contentContainerStyle:ne(a).modalContent,style:ne(a).modal},c.a.createElement(d.a,{style:ne(a).modalHeadingContainer},c.a.createElement(s.a,{style:ne(a).modalHeading},"Information:")),c.a.createElement(d.a,null,ee.map((function(e){return c.a.createElement(d.a,null,c.a.createElement(y,{placeholder:e.placeholder,onChangeText:e.onChangeText,value:e.value,obscureText:!1,width:a.width/2/2}))})),c.a.createElement(d.a,{style:ne(a).modalButtonGroupContainer},te.map((function(e){return c.a.createElement(d.a,{style:ne(a).modalButtonContainer},c.a.createElement(T,{buttonText:e.buttonText,buttonColor:e.buttonColor,onPress:e.onPress,buttonTextColor:"white"}))})))))),c.a.createElement(d.a,{style:ne(a).imageContainer},c.a.createElement(k.a,{rounded:!0,overlayContainerStyle:ne(a).avatar,size:a.height/3,icon:{type:"ionicon",name:"leaf",color:"#63b175"}})),c.a.createElement(d.a,{style:ne(a).detailsContainer},$.map((function(e){return c.a.createElement(d.a,{style:ne(a).textInputContainer},c.a.createElement(y,{placeholder:e.placeholder,width:a.width/2,value:e.value,onChangeText:e.onChangeText,obscureText:!!e.obscureText&&e.obscureText}))})),c.a.createElement(d.a,null,_.map((function(e){return c.a.createElement(d.a,{style:ne(a).buttonContainer},c.a.createElement(T,{buttonText:e.buttonText,buttonTextColor:"white",buttonColor:e.buttonColor,onPress:e.onPress}))}))))))}var z=n(213),W=n(396);var H=function(){Object(l.useEffect)((function(){p.a.addEventListener("change",(function(e){var t=e.window;e.screen;a(t)}))}));var e=Object(l.useState)(p.a.get("window")),t=u()(e,2),n=t[0],a=t[1],o=Object(l.useState)(""),s=u()(o,2),m=s[0],b=s[1],h=Object(l.useState)(""),f=u()(h,2),g=f[0],w=f[1],x=[{placeholder:"Name",onChangeText:function(e){return b(e)},value:m},{placeholder:"Description",onChangeText:function(e){return w(e)},value:g,maxLength:200,height:.6*n.height,multiline:!0}],v=function(e){return i.a.create({allTextInputsContainer:{paddingLeft:e.width/2-e.width/2/2},textInputContainer:{paddingTop:20},textInput:{fontSize:20},submitButtonContainer:{paddingTop:20,paddingLeft:e.width/2-50,paddingRight:e.width/2-50}})},C=function(e,t){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Name and Description: "+e+" "+t),null!=e&&0!=e.trim().length){n.next=3;break}return n.abrupt("return",R.emptyField1);case 3:if(null!=t&&0!=t.trim().length){n.next=5;break}return n.abrupt("return",R.emptyField2);case 5:if(!(t.trim().length<10)){n.next=7;break}return n.abrupt("return",R.shortDetails);case 7:return n.next=9,r.a.awrap(D.collection(N.firestore.collections.names.itemsToExchange).add({name:e,description:t,timeStamp:j.a.firestore.Timestamp.now()}).then((function(e){return R.successful})).catch((function(e){return R.unknownError})));case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}}),null,null,null,Promise)};return c.a.createElement(d.a,null,c.a.createElement(E,{title:"Request Screen",color:"#96D25A"}),c.a.createElement(d.a,{style:v(n).allTextInputsContainer},x.map((function(e){return c.a.createElement(d.a,{style:v(n).textInputContainer},c.a.createElement(y,{placeholder:e.placeholder,onChangeText:e.onChangeText,value:e.value,obscureText:!1,width:n.width/2,height:e.height||void 0,multiline:e.multiline||!1,maxLength:e.maxLength||void 0,outlinedBorder:!0}))}))),c.a.createElement(d.a,{style:v(n).submitButtonContainer},c.a.createElement(T,{buttonColor:"red",buttonText:"Submit",buttonTextColor:"white",onPress:function(){var e;return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(C(m,g));case 2:e=t.sent,t.t0=e,t.next=t.t0===R.emptyField1?6:t.t0===R.emptyField2?8:t.t0===R.shortDetails?10:t.t0===R.successful?12:14;break;case 6:return alert("Please fill the name field!"),t.abrupt("break",15);case 8:return alert("Please fill the description field!"),t.abrupt("break",15);case 10:return alert("Description too short!"),t.abrupt("break",15);case 12:return alert("Data submitted successfully!"),t.abrupt("break",15);case 14:alert("Some error occurred!");case 15:case"end":return t.stop()}}),null,null,null,Promise)}})))},U=n(22),q=n.n(U),V=n(155),J=n(89),G=n(205);var K=function(e){var t=Object(l.useState)(p.a.get("window")),n=u()(t,2),a=n[0],r=n[1],o=Object(l.useState)([]),s=u()(o,2),m=s[0],b=s[1],h=Object(l.useState)(null),f=u()(h,2),g=f[0],w=f[1];Object(l.useEffect)((function(){p.a.addEventListener("change",(function(e){var t=e.window;e.screen;r(t)}))})),Object(l.useEffect)((function(){v(null)}),[]);var x=function(e){return i.a.create({exchangeButtonContainer:{height:"50%",width:.2*e.width},divider:{backgroundColor:"rgba(0,0,0,0.3)"}})},v=function(e){try{null!=e?D.collection(N.firestore.collections.names.itemsToExchange).orderBy("timeStamp").startAfter(e).limit(1):D.collection(N.firestore.collections.names.itemsToExchange).limit(1),D.collection(N.firestore.collections.names.itemsToExchange).onSnapshot((function(e){var t;t=e.docs.map((function(e){return e.data()})),b((function(e){return e.push.apply(e,q()(t)),e})),w((function(e){return t[t.length-1].timeStamp}))}))}catch(t){alert("Some error Occurred in fetching the data!"),console.log(t)}},y=function(e){alert("Exchanging item with name "+e.name)};return c.a.createElement(d.a,null,c.a.createElement(E,{title:"Exchange Screen",color:"#ffca28",drawerAvailable:!0}),c.a.createElement(d.a,null,c.a.createElement(V.a,{data:m,renderItem:function(e){var t=e.item;e.index;return c.a.createElement(d.a,null,c.a.createElement(d.a,null,c.a.createElement(J.a.Item,{theme:{colors:{text:"black"}},left:function(e){return c.a.createElement(J.a.Icon,{icon:"table-furniture",color:"black"})},right:function(e){return c.a.createElement(d.a,{style:x(a).exchangeButtonContainer},c.a.createElement(T,{buttonText:"Exchange",buttonTextColor:"white",buttonColor:"red",onPress:function(){return y(t)}}))},title:t.name,description:t.description}),c.a.createElement(G.a,{style:x(a).divider})))},keyExtractor:function(e,t){return t.toString()},onEndReachedThreshold:10,onEndReached:function(){return v(g)}})))},M=n(159);var Q=function(){var e=Object(W.a)();return c.a.createElement(e.Navigator,{barStyle:{backgroundColor:"purple"}},c.a.createElement(e.Screen,{name:"exchangeScreen",component:K,options:{tabBarLabel:"Exchange Screen",title:"Exchange Items",tabBarIcon:function(e){var t=e.color;return c.a.createElement(M.default,{name:"handshake-o",size:20,color:t})}}}),c.a.createElement(e.Screen,{name:"requestScreen",component:H,options:{tabBarLabel:"Request Screen",title:"Request Items",tabBarIcon:function(e){var t=e.color;return c.a.createElement(M.default,{name:"envelope-open",size:20,color:t})}}}))};function X(){var e=Object(h.a)(),t={headerShown:!1};return c.a.createElement(e.Navigator,{initialRouteName:"loginScreen"},c.a.createElement(e.Screen,{name:"loginScreen",component:L,options:t}),c.a.createElement(e.Screen,{name:"homeScreen",component:Q,options:t}))}function Y(){var e=Object(l.useState)(p.a.get("window")),t=u()(e,2),n=(t[0],t[1]);Object(l.useEffect)((function(){p.a.addEventListener("change",(function(e){var t=e.window;e.screen;n(t)}))}),[]);var a=Object(f.a)(),o=function(e){return i.a.create({drawer:{borderTopRightRadius:20,borderBottomRightRadius:20},drawerContent:{flex:1},logOutButton:{flex:1,justifyContent:"flex-end",paddingLeft:"5%",paddingBottom:"5%"},logOutButtonContent:{flexDirection:"row",alignItems:"center"},logOutButtonText:{paddingLeft:"3%",fontWeight:"bold",fontSize:15}})};return c.a.createElement(z.a,null,c.a.createElement(b.a,null,c.a.createElement(a.Navigator,{initialRouteName:"homeScreen",drawerStyle:o().drawer,drawerContent:function(e){return c.a.createElement(d.a,{style:o().drawerContent},c.a.createElement(g.a,{state:e.state,navigation:e.navigation,descriptors:e.descriptors,progress:e.progress}),c.a.createElement(d.a,{style:o().logOutButton},c.a.createElement(V.b,{onPress:function(){return t=e.navigation,r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(j.a.auth().signOut());case 2:t.navigate("loginScreen");case 3:case"end":return e.stop()}}),null,null,null,Promise);var t}},c.a.createElement(d.a,{style:o().logOutButtonContent},c.a.createElement(k.b,{name:"power-off",type:"font-awesome"}),c.a.createElement(s.a,{style:o().logOutButtonText},"Log Out")))))},drawerType:"front"},c.a.createElement(a.Screen,{name:"Home",component:X,options:{headerShown:!1}}))))}!function(){if("web"==m.a.OS){var e=document.createElement("style");e.textContent="textarea, select, input, button { outline: none!important; }",document.head.append(e)}}()},305:function(e,t,n){e.exports=n(375)}},[[305,1,2]]]);
//# sourceMappingURL=app.97718b43.chunk.js.map