(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{265:function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var a=n(0),r=n.n(a),o=n(10),u=n(82);u.a.initializeApp({apiKey:"AIzaSyCtJWEiHkscsBR9mhAV8PzPn7Ijy46bOdI",authDomain:"barter-app-1d780.firebaseapp.com",projectId:"barter-app-1d780",storageBucket:"barter-app-1d780.appspot.com",messagingSenderId:"544892223600",appId:"1:544892223600:web:7f83694a6daecd2992f4b5"});var l=u.a.firestore(),c=n(203),i=n(384),s=n(20),d=n.n(s),m=n(17),p=n.n(m),b=n(5),h=n(29),f=n(3),g=n(32),x=n(200);function w(e){return r.a.createElement(x.a.Header,{style:{backgroundColor:e.color?e.color:"#6d4c41"}},r.a.createElement(x.a.Content,{title:e.title,style:{alignItems:"center"}}))}f.a.create({centerComponent:{fontSize:20}});var E=n(59);function v(e){return r.a.createElement(E.a,{placeholder:e.placeholder,style:y(e).textInput,onChangeText:e.onChangeText,value:e.value,secureTextEntry:e.obscureText,multiline:e.multiline||!1,maxLength:e.maxLength||void 0})}var y=function(e){return f.a.create({textInput:{width:e.width,height:e.height||void 0,fontSize:23,padding:3,borderBottomWidth:e.outlinedBorder?void 0:2,borderColor:"black",borderWidth:e.outlinedBorder?5:void 0,borderRadius:e.outlinedBorder?25:0}})},C=n(263),k=n(31);function T(e){return r.a.createElement(k.a,{style:I(e).button,onPress:e.onPress},r.a.createElement(h.a,{style:I(e).buttonText},e.buttonText))}var S,I=function(e){return f.a.create({button:{backgroundColor:e.buttonColor,justifyContent:"center",alignItems:"center",borderRadius:23,paddingHorizontal:7,paddingVertical:5,shadowOpacity:.5,shadowRadius:2,shadowOffset:{width:0,height:4},elevation:20},buttonText:{fontSize:23,color:e.buttonTextColor,fontWeight:"bold",fontFamily:"cursive"}})},F=n(259),P=n.n(F),B=n(205),O=n(180),j={firestore:{collections:{names:{users:"users",itemsToExchange:"itemsToExchange"}}}};!function(e){e[e.successful=0]="successful",e[e.unknownError=1]="unknownError",e[e.badCredentials=2]="badCredentials",e[e.emptyField1=3]="emptyField1",e[e.emptyField2=4]="emptyField2",e[e.emailBadlyFormatted=5]="emailBadlyFormatted",e[e.userNotFound=6]="userNotFound",e[e.userDisabled=7]="userDisabled",e[e.operationNotAllowed=8]="operationNotAllowed",e[e.weakPassword=9]="weakPassword",e[e.emailAlreadyInUse=10]="emailAlreadyInUse",e[e.shortDetails=11]="shortDetails"}(S||(S={}));var N=S;function A(e){Object(a.useEffect)((function(){g.a.addEventListener("change",(function(e){var t=e.window;e.screen;c(t)}))}));var t=Object(a.useState)(g.a.get("window")),n=p()(t,2),o=n[0],c=n[1],i=Object(a.useState)(""),s=p()(i,2),m=s[0],x=s[1],E=Object(a.useState)(""),y=p()(E,2),k=y[0],S=y[1],I=Object(a.useState)(!1),F=p()(I,2),A=F[0],D=F[1],L=Object(a.useState)(""),R=p()(L,2),z=R[0],W=R[1],U=Object(a.useState)(""),H=p()(U,2),V=H[0],q=H[1],J=Object(a.useState)(""),G=p()(J,2),K=G[0],M=G[1],Q=Object(a.useState)(""),X=p()(Q,2),Y=X[0],Z=X[1],$=[{placeholder:"Email",onChangeText:function(e){return x(e)},value:m},{placeholder:"Password",onChangeText:function(e){return S(e)},value:k,obscureText:!0}],_=[{buttonColor:"#4CAF50",buttonText:"Sign In",onPress:function(){var t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.a.awrap(re(m,k));case 2:t=n.sent,n.t0=t,n.next=n.t0===N.emptyField1?6:n.t0===N.emptyField2?8:n.t0===N.emailBadlyFormatted?10:n.t0===N.badCredentials?12:n.t0===N.successful?14:n.t0===N.userNotFound?16:n.t0===N.userDisabled?18:20;break;case 6:return alert("Empty email"),n.abrupt("break",21);case 8:return alert("Empty password"),n.abrupt("break",21);case 10:return alert("Email badly formatted"),n.abrupt("break",21);case 12:return alert("Wrong credentials"),n.abrupt("break",21);case 14:return e.navigation.replace("exchangeViewTabNavigator"),n.abrupt("break",21);case 16:return alert("User not found"),n.abrupt("break",21);case 18:return alert("User disabled"),n.abrupt("break",21);case 20:alert("Some unknown error occurred");case 21:case"end":return n.stop()}}),null,null,null,Promise)}},{buttonColor:"#3F51B5",buttonText:"Sign Up",onPress:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(oe(m,k));case 2:e=t.sent,t.t0=e,t.next=t.t0===N.emptyField1?6:t.t0===N.emptyField2?8:t.t0===N.emailBadlyFormatted?10:t.t0===N.successful?12:t.t0===N.emailAlreadyInUse?14:t.t0===N.weakPassword?16:t.t0===N.operationNotAllowed?18:20;break;case 6:return alert("Empty email"),t.abrupt("break",21);case 8:return alert("Empty password"),t.abrupt("break",21);case 10:return alert("Email badly formatted"),t.abrupt("break",21);case 12:return D(!0),t.abrupt("break",21);case 14:return alert("Email already in use"),t.abrupt("break",21);case 16:return alert("Weak password"),t.abrupt("break",21);case 18:return alert("Operation not allowed"),t.abrupt("break",21);case 20:alert("Some unknown error occurred");case 21:case"end":return t.stop()}}),null,null,null,Promise)}}],ee=[{placeholder:"Name",onChangeText:function(e){return Z(e)},value:Y},{placeholder:"Email ID",onChangeText:function(e){return W(e)},value:z},{placeholder:"Address",onChangeText:function(e){return q(e)},value:V},{placeholder:"Contact No.",onChangeText:function(e){return M(e)},value:K}],te=[{buttonText:"Submit",buttonColor:"purple",onPress:function(){var t;return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return D(!1),n.next=3,d.a.awrap(ue(Y,z,V,K));case 3:t=n.sent,n.t0=t,n.next=n.t0===N.successful?7:9;break;case 7:return e.navigation.navigate("exchangeViewTabNavigator"),n.abrupt("break",10);case 9:alert("Some Error Occurred");case 10:case"end":return n.stop()}}),null,null,null,Promise)}},{buttonText:"Cancel",buttonColor:"red",onPress:function(){return D(!1)}}],ne=function(e){return f.a.create({background:{backgroundColor:"#F8BE85",height:"100vh"},modal:{marginLeft:e.width/2-e.width/2/2,marginTop:e.height/2-e.height/2/2,width:e.width/2,height:e.height/1.9,shadowOpacity:.5,shadowRadius:2,shadowOffset:{width:0,height:6},elevation:20,backgroundColor:"#FFC107",borderRadius:20},modalContent:{justifyContent:"flex-start",alignItems:"center",height:"100%",width:"100%",borderRadius:20},modalHeadingContainer:{paddingVertical:1,alignItems:"center",width:"100%"},modalHeading:{fontFamily:"cursive",fontSize:30,fontWeight:"bold"},modalButtonGroupContainer:{paddingTop:5},modalButtonContainer:{paddingBottom:e.height/60},imageContainer:{paddingVertical:20,justifyContent:"center",alignItems:"center"},avatar:{backgroundColor:"white",borderWidth:5},detailsContainer:{width:"100%",alignItems:"center"},textInputContainer:{paddingTop:20},buttonContainer:{paddingTop:15}})},ae=function(e,t){return null==e||0==e.trim().length?N.emptyField1:null==t||0==t.trim().length?N.emptyField2:P.a.validate(e)?N.successful:N.emailBadlyFormatted},re=function(e,t){var n,a;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if((n=ae(e,t))==N.successful){r.next=3;break}return r.abrupt("return",n);case 3:return r.prev=3,r.next=6,d.a.awrap(u.a.auth().signInWithEmailAndPassword(e,t));case 6:return r.abrupt("return",N.successful);case 9:r.prev=9,r.t0=r.catch(3),console.error(r.t0),a=r.t0.code,r.t1=a,r.next="auth/wrong-password"===r.t1?16:"auth/user-not-found"===r.t1?18:"auth/user-disabled"===r.t1?20:"auth/invalid-email"===r.t1?22:24;break;case 16:return r.abrupt("return",N.badCredentials);case 18:return r.abrupt("return",N.userNotFound);case 20:return r.abrupt("return",N.userDisabled);case 22:return r.abrupt("return",N.emailBadlyFormatted);case 24:return r.abrupt("return",N.unknownError);case 25:case 26:case"end":return r.stop()}}),null,null,[[3,9]],Promise)},oe=function(e,t){var n,a;return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if((n=ae(e,t))==N.successful){r.next=3;break}return r.abrupt("return",n);case 3:return r.prev=3,r.next=6,d.a.awrap(u.a.auth().createUserWithEmailAndPassword(e,t));case 6:return r.abrupt("return",N.successful);case 9:r.prev=9,r.t0=r.catch(3),console.error(r.t0),a=r.t0.code,r.t1=a,r.next="auth/email-already-in-use"===r.t1?16:"auth/invalid-email"===r.t1?18:"auth/operation-not-allowed"===r.t1?20:"auth/weak-password"===r.t1?22:24;break;case 16:return r.abrupt("return",N.emailAlreadyInUse);case 18:return r.abrupt("return",N.emailBadlyFormatted);case 20:return r.abrupt("return",N.operationNotAllowed);case 22:return r.abrupt("return",N.weakPassword);case 24:return r.abrupt("return",N.unknownError);case 25:case 26:case"end":return r.stop()}}),null,null,[[3,9]],Promise)},ue=function(e,t,n,a){return d.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,d.a.awrap(l.collection(j.firestore.collections.names.users).add({name:e,emailID:t,address:n,contactNo:a}));case 3:return r.sent,r.abrupt("return",N.successful);case 7:return r.prev=7,r.t0=r.catch(0),console.error(r.t0),r.abrupt("return",N.unknownError);case 11:case"end":return r.stop()}}),null,null,[[0,7]],Promise)};return r.a.createElement(b.a,{style:ne(o).background},r.a.createElement(b.a,null,r.a.createElement(w,{title:"Login"}),r.a.createElement(B.a,null,r.a.createElement(O.a,{dismissable:!1,visible:A,contentContainerStyle:ne(o).modalContent,style:ne(o).modal},r.a.createElement(b.a,{style:ne(o).modalHeadingContainer},r.a.createElement(h.a,{style:ne(o).modalHeading},"Information:")),r.a.createElement(b.a,null,ee.map((function(e){return r.a.createElement(b.a,null,r.a.createElement(v,{placeholder:e.placeholder,onChangeText:e.onChangeText,value:e.value,obscureText:!1,width:o.width/2/2}))})),r.a.createElement(b.a,{style:ne(o).modalButtonGroupContainer},te.map((function(e){return r.a.createElement(b.a,{style:ne(o).modalButtonContainer},r.a.createElement(T,{buttonText:e.buttonText,buttonColor:e.buttonColor,onPress:e.onPress,buttonTextColor:"white"}))})))))),r.a.createElement(b.a,{style:ne(o).imageContainer},r.a.createElement(C.a,{rounded:!0,overlayContainerStyle:ne(o).avatar,size:o.height/3,icon:{type:"ionicon",name:"leaf",color:"#63b175"}})),r.a.createElement(b.a,{style:ne(o).detailsContainer},$.map((function(e){return r.a.createElement(b.a,{style:ne(o).textInputContainer},r.a.createElement(v,{placeholder:e.placeholder,width:o.width/2,value:e.value,onChangeText:e.onChangeText,obscureText:!!e.obscureText&&e.obscureText}))})),r.a.createElement(b.a,null,_.map((function(e){return r.a.createElement(b.a,{style:ne(o).buttonContainer},r.a.createElement(T,{buttonText:e.buttonText,buttonTextColor:"white",buttonColor:e.buttonColor,onPress:e.onPress}))}))))))}var D=n(202),L=n(385);var R=function(){Object(a.useEffect)((function(){g.a.addEventListener("change",(function(e){var t=e.window;e.screen;o(t)}))}));var e=Object(a.useState)(g.a.get("window")),t=p()(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),i=p()(c,2),s=i[0],m=i[1],h=Object(a.useState)(""),x=p()(h,2),E=x[0],y=x[1],C=[{placeholder:"Name",onChangeText:function(e){return m(e)},value:s},{placeholder:"Description",onChangeText:function(e){return y(e)},value:E,maxLength:200,height:.6*n.height,multiline:!0}],k=function(e){return f.a.create({allTextInputsContainer:{paddingLeft:e.width/2-e.width/2/2},textInputContainer:{paddingTop:20},textInput:{fontSize:20},submitButtonContainer:{paddingTop:20,paddingLeft:e.width/2-50,paddingRight:e.width/2-50}})},S=function(e,t){return d.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("Name and Description: "+e+" "+t),null!=e&&0!=e.trim().length){n.next=3;break}return n.abrupt("return",N.emptyField1);case 3:if(null!=t&&0!=t.trim().length){n.next=5;break}return n.abrupt("return",N.emptyField2);case 5:if(!(t.trim().length<10)){n.next=7;break}return n.abrupt("return",N.shortDetails);case 7:return n.next=9,d.a.awrap(l.collection(j.firestore.collections.names.itemsToExchange).add({name:e,description:t,timeStamp:u.a.firestore.Timestamp.now()}).then((function(e){return N.successful})).catch((function(e){return N.unknownError})));case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}}),null,null,null,Promise)};return r.a.createElement(b.a,null,r.a.createElement(w,{title:"Request Screen",color:"#96D25A"}),r.a.createElement(b.a,{style:k(n).allTextInputsContainer},C.map((function(e){return r.a.createElement(b.a,{style:k(n).textInputContainer},r.a.createElement(v,{placeholder:e.placeholder,onChangeText:e.onChangeText,value:e.value,obscureText:!1,width:n.width/2,height:e.height||void 0,multiline:e.multiline||!1,maxLength:e.maxLength||void 0,outlinedBorder:!0}))}))),r.a.createElement(b.a,{style:k(n).submitButtonContainer},r.a.createElement(T,{buttonColor:"red",buttonText:"Submit",buttonTextColor:"white",onPress:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(S(s,E));case 2:e=t.sent,t.t0=e,t.next=t.t0===N.emptyField1?6:t.t0===N.emptyField2?8:t.t0===N.shortDetails?10:t.t0===N.successful?12:14;break;case 6:return alert("Please fill the name field!"),t.abrupt("break",15);case 8:return alert("Please fill the description field!"),t.abrupt("break",15);case 10:return alert("Description too short!"),t.abrupt("break",15);case 12:return alert("Data submitted successfully!"),t.abrupt("break",15);case 14:alert("Some error occurred!");case 15:case"end":return t.stop()}}),null,null,null,Promise)}})))},z=n(21),W=n.n(z),U=n(264),H=n(85),V=n(182);var q=function(){var e=Object(a.useState)(g.a.get("window")),t=p()(e,2),n=t[0],o=t[1],u=Object(a.useState)([]),c=p()(u,2),i=c[0],s=c[1],d=Object(a.useState)(null),m=p()(d,2),h=m[0],x=m[1];Object(a.useEffect)((function(){g.a.addEventListener("change",(function(e){var t=e.window;e.screen;o(t)})),v(null)}),[]);var E=function(e){return f.a.create({exchangeButtonContainer:{height:"50%",width:.2*e.width},divider:{backgroundColor:"rgba(0,0,0,0.3)"}})},v=function(e){try{null!=e?l.collection(j.firestore.collections.names.itemsToExchange).orderBy("timeStamp").startAfter(e).limit(1):l.collection(j.firestore.collections.names.itemsToExchange).limit(1),l.collection(j.firestore.collections.names.itemsToExchange).onSnapshot((function(e){var t;console.log("Snapshot given: "+JSON.stringify(e)),t=e.docs.map((function(e){return e.data()})),s((function(e){return e.push.apply(e,W()(t)),e})),x((function(e){return t[t.length-1].timeStamp}))}))}catch(t){alert("Some error Occurred in fetching the data!"),console.log(t)}},y=function(e){alert("Exchanging item with name "+e.name)};return r.a.createElement(b.a,null,r.a.createElement(w,{title:"Exchange Screen",color:"#ffca28"}),r.a.createElement(b.a,null,r.a.createElement(U.a,{data:i,renderItem:function(e){var t=e.item;e.index;return r.a.createElement(b.a,null,r.a.createElement(b.a,null,r.a.createElement(H.a.Item,{theme:{colors:{text:"black"}},left:function(e){return r.a.createElement(H.a.Icon,{icon:"table-furniture",color:"black"})},right:function(e){return r.a.createElement(b.a,{style:E(n).exchangeButtonContainer},r.a.createElement(T,{buttonText:"Exchange",buttonTextColor:"white",buttonColor:"red",onPress:function(){return y(t)}}))},title:t.name,description:t.description}),r.a.createElement(V.a,{style:E(n).divider})))},keyExtractor:function(e,t){return t.toString()},onEndReachedThreshold:10,onEndReached:function(){return v(h)}})))},J=n(148);var G=function(){var e=Object(L.a)();return r.a.createElement(e.Navigator,{barStyle:{backgroundColor:"purple"}},r.a.createElement(e.Screen,{name:"exchangeScreen",component:q,options:{tabBarLabel:"Exchange Screen",title:"Exchange Items",tabBarIcon:function(e){var t=e.color;return r.a.createElement(J.default,{name:"handshake-o",size:20,color:t})}}}),r.a.createElement(e.Screen,{name:"requestScreen",component:R,options:{tabBarLabel:"Request Screen",title:"Request Items",tabBarIcon:function(e){var t=e.color;return r.a.createElement(J.default,{name:"envelope-open",size:20,color:t})}}}))};function K(){l.enablePersistence();var e=Object(i.a)(),t={headerShown:!1};return r.a.createElement(D.a,null,r.a.createElement(c.a,null,r.a.createElement(e.Navigator,{initialRouteName:"loginScreen"},r.a.createElement(e.Screen,{name:"loginScreen",component:A,options:t}),r.a.createElement(e.Screen,{name:"exchangeViewTabNavigator",component:G,options:t}))))}!function(){if("web"==o.a.OS){var e=document.createElement("style");e.textContent="textarea, select, input, button { outline: none!important; }",document.head.append(e)}}()},296:function(e,t,n){e.exports=n(367)}},[[296,1,2]]]);
//# sourceMappingURL=app.fe5dc513.chunk.js.map